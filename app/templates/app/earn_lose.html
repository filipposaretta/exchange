{% extends 'app/base.html' %}

{% block content %}
    <div class="box">
        <h4>Wallet</h4>
        <p>Bitcoin: {{ transs.bit_fin }} B</p>
        <p>Dollars: {{ transs.dol_fin }} $</p>
    </div>
    {% for trans in transs %}
        <article class="trans">
            <time class="date">
                {{ trans.published_date }}
            </time>
            {% if trans.buy_in > 0 %}
                {% if trans.creator == request.user.username %}
            <h2><a href="{% url 'transaction_detail' pk=trans.pk %}"><font color="green">+ {{ trans.quantity_B_sell }} Bitcoin </font><font color="red">    - {{ trans.total_dollars_sell }} $</font></a></h2>
                {% else %}
                    <h2><a href="{% url 'transaction_detail' pk=trans.pk %}"><font color="red">- {{ trans.quantity_B_sell }} Bitcoin </font><font color="green">   + {{ trans.total_dollars_sell }} $</font></a></h2>
                {% endif %}
            {% elif trans.sell_in > 0 %}
                {% if trans.creator == request.user.username %}
                    <h2><a href="{% url 'transaction_detail' pk=trans.pk %}"><font color="red">- {{ trans.quantity_B_sell }} Bitcoin </font><font color="green">   + {{ trans.total_dollars_sell }} $</font></a></h2>
                {% else %}
                    <h2><a href="{% url 'transaction_detail' pk=trans.pk %}"><font color="green">+ {{ trans.quantity_B_sell }} Bitcoin </font><font color="red">   - {{ trans.total_dollars_sell }} $</font></a></h2>
                {% endif %}
            {% endif %}
        </article>
    {% endfor %}
    {% if transs.bit_diff >= 0 %}
        <h3>Hai guadagnato: <font color="green">{{ transs.bit_diff }} Bitcoin</font></h3>
    {% else %}
        <h3>Hai perso: <font color="red">{{ transs.bit_diff }} Bitcoin</font></h3>
    {% endif %}
    {% if transs.dol_diff >= 0 %}
        <h3>Hai guadagnato: <font color="green">{{ transs.dol_diff }} $</font></h3>
    {% else %}
        <h3>Hai perso: <font color="red">{{ transs.dol_diff }} $</font></h3>
    {% endif %}
{% endblock %}